<?php

/**
 * CategoryTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class CategoryTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object CategoryTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('Category');
    }

		public static function getCategories()
		{
				$q = Doctrine_Core::getTable('Category')->createQuery('c');
				$q->orderBy('c.display_order ASC');

				$categories = $q->execute();
				foreach($categories as $category) {
					$category_ar[$category->getId()] = $category->getName();
				}
				if(count($category_ar)>0) {
					return $category_ar;
				} else {
					return false;
				}
		}	
		
		public static function getCategoriesById($id)
		{
				$q = Doctrine_Core::getTable('Category')->createQuery('c');
				$q->addWhere('c.id = "'.$id.'"');
				$q->orderBy('c.display_order ASC');

				$categories = $q->execute();
				if($categories->count()>0) {
					return $categories;
				} else {
					return false;
				}
		}		
		
		public static function getCategoriesByTreatmentGroupId($treatment_group_id)
		{
				$q = Doctrine_Core::getTable('Category')->createQuery('c');
				$q->addWhere('c.treatment_group_id = "'.$treatment_group_id.'"');
				$q->orderBy('c.display_order ASC');

				$categories = $q->execute();
				if($categories->count()>0) {
					return $categories;
				} else {
					return false;
				}
		}		
}